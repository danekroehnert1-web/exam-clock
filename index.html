<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Exam Clock</title>
  <link href="https://fonts.googleapis.com/css2?family=Lexend+Giga:wght@800&display=swap" rel="stylesheet" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      font-family: 'Lexend Giga', sans-serif;
      font-weight: 800;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow: auto;

      /* âœ… Background image anchored top-left */
      background-image: url('https://i.ibb.co/N22BLd6k/LMHS-Sails.png');
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-position: top left;
      background-size: contain;
      background-color: #ffffff;

      color: #000000;
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
    }

    .clock {
      font-size: clamp(3rem, 15vw, 20rem);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .date {
      margin-top: 1rem;
      font-size: clamp(1rem, 4vw, 5rem);
      text-align: center;
    }

    .digit, .colon {
      display: inline-block;
      width: 0.7em;
      text-align: center;
    }

    .digit:empty {
      opacity: 0;
      pointer-events: none;
    }

    .am-pm {
      font-size: clamp(1rem, 5vw, 8rem);
      margin-left: 0.5em;
      align-self: flex-end;
      padding-bottom: 0.1em;
    }

    .seconds {
      font-size: clamp(2rem, 8vw, 12rem);
    }
  </style>
</head>
<body>
  <div class="clock" id="clock">
    <span class="digit" id="h1"></span>
    <span class="digit" id="h2">0</span>
    <span class="colon">:</span>
    <span class="digit" id="m1">0</span>
    <span class="digit" id="m2">0</span>
    <span class="colon">.</span>
    <span class="digit seconds" id="s1">0</span>
    <span class="digit seconds" id="s2">0</span>
    <span class="am-pm" id="amPm"></span>
  </div>

  <div class="date" id="dateDisplay">Loading date...</div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      function updateClock() {
        const now = new Date();
        let h = now.getHours();
        const m = String(now.getMinutes()).padStart(2, '0');
        const s = String(now.getSeconds()).padStart(2, '0');

        const amPm = h >= 12 ? 'PM' : 'AM';

        h = h % 12;
        if (h === 0) h = 12; // 12 AM or 12 PM instead of 0

        const hStr = String(h);

        if (hStr.length === 1) {
          document.getElementById('h1').textContent = '';
          document.getElementById('h2').textContent = hStr[0];
        } else {
          document.getElementById('h1').textContent = hStr[0];
          document.getElementById('h2').textContent = hStr[1];
        }

        document.getElementById('m1').textContent = m[0];
        document.getElementById('m2').textContent = m[1];
        document.getElementById('s1').textContent = s[0];
        document.getElementById('s2').textContent = s[1];

        document.getElementById('amPm').textContent = amPm;
      }

      function updateDate() {
        const now = new Date();

        const weekday = now.toLocaleDateString(undefined, { weekday: 'long' });
        const day = now.getDate();
        const month = now.toLocaleDateString(undefined, { month: 'long' });

        const getOrdinal = (n) => {
          const v = n % 100;
          if (v >= 11 && v <= 13) return "th";
          switch (v % 10) {
            case 1: return "st";
            case 2: return "nd";
            case 3: return "rd";
            default: return "th";
          }
        };

        const dateWithOrdinal = `${day}${getOrdinal(day)}`;
        const formatted = `${weekday}, ${dateWithOrdinal} ${month}`;

        document.getElementById('dateDisplay').textContent = formatted;
      }

      setInterval(updateClock, 1000);
      updateClock();

      let currentDateString = '';
      function checkAndUpdateDate() {
        const now = new Date();
        const newDateString = now.toDateString();
        if (newDateString !== currentDateString) {
          updateDate();
          currentDateString = newDateString;
        }
      }

      updateDate();
      currentDateString = new Date().toDateString();
      setInterval(checkAndUpdateDate, 60 * 1000);
    });
  </script>
</body>
</html>
